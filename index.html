---
layout: kmw_base
title: Blog
---

<section class="blog-hero">
  <div class="container">
    <h1>Company Blog</h1>
    <p class="lead">Updates, project highlights, and welding know-how from the field.</p>
  </div>
</section>

<section class="blog-wrap">
  <div class="container">
    <div class="blog-toolbar">
      <input type="search" id="blogSearch" placeholder="Search posts…" aria-label="Search posts">
    </div>

    <div class="blog-grid" id="postsGrid">
      {% for p in site.posts %}
        <article class="post" data-title="{{ p.title | downcase }}">
          {% assign cover = p.image | default: p.cover | default: p.thumbnail %}
          {% if cover %}
            <img src="{{ cover | relative_url }}" alt="" loading="lazy">
          {% else %}
            <img src="/assets/img/og-image.jpg" alt="" loading="lazy">
          {% endif %}
          <div class="body">
            <div class="meta">{{ p.date | date: "%B %d, %Y" }}</div>
            <h2><a href="{{ site.baseurl }}{{ p.url }}">{{ p.title }}</a></h2>
            {% if p.excerpt %}
              <p>{{ p.excerpt | strip_html | truncate: 170 }}</p>
            {% endif %}
            <div class="cta"><a href="{{ site.baseurl }}{{ p.url }}">Read more →</a></div>
          </div>
        </article>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  // Simple client-side search (title only)
  (function(){
    const input = document.getElementById('blogSearch');
    const cards = Array.from(document.querySelectorAll('#postsGrid .post'));
    if(!input) return;
    input.addEventListener('input', e => {
      const q = e.target.value.trim().toLowerCase();
      cards.forEach(card => {
        const t = card.getAttribute('data-title') || '';
        card.style.display = (!q || t.includes(q)) ? '' : 'none';
      });
    });
  })();
</script>
