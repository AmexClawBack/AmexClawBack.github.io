---
layout: kmw_base
---

<section class="blog-hero">
  <div class="container">
    <nav class="kmw-breadcrumbs" aria-label="Breadcrumb">
      <a href="{{ site.baseurl }}/">Blog</a> â€º <span aria-current="page">{{ page.title }}</span>
    </nav>
    <h1 class="post-title" itemprop="headline">{{ page.title }}</h1>
    {% if page.date %}
      <p class="post-meta">
        <time itemprop="datePublished" datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%B %d, %Y" }}</time>
      </p>
    {% endif %}

    {% if page.tags %}
      <div class="kmw-tags" aria-label="Tags">
        {% for t in page.tags %}
          <span class="kmw-tag" itemprop="keywords">{{ t }}</span>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% comment %}
Normalize `page.image` to `cover_path` and `cover_alt`
Supports:
- image: /path.jpg
- image: { path: /path.jpg, alt: "...", lqip: "..." }
{% endcomment %}
{% assign cover_path = nil %}
{% assign cover_alt = nil %}
{% if page.image %}
  {% if page.image.path %}
    {% assign cover_path = page.image.path %}
    {% assign cover_alt  = page.image.alt | default: page.title %}
  {% else %}
    {% assign cover_path = page.image %}
    {% assign cover_alt  = page.title %}
  {% endif %}
{% endif %}

<section class="blog-wrap" itemscope itemtype="https://schema.org/BlogPosting">
  <meta itemprop="mainEntityOfPage" content="{{ page.url | absolute_url }}">
  {% if cover_path %}
    <meta itemprop="image" content="{{ cover_path | absolute_url }}">
  {% endif %}
  <div class="container">
    {% if cover_path %}
      <figure class="post-cover">
        <img src="{{ cover_path | relative_url }}" alt="{{ cover_alt | escape }}">
      </figure>
    {% endif %}

    <article class="kmw-post-body" itemprop="articleBody">
      {{ content }}
    </article>
  </div>
</section>

<!-- JSON-LD for the Article -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BlogPosting",
  "headline": {{ page.title | jsonify }},
  "datePublished":"{{ page.date | date_to_xmlschema }}",
  {% if cover_path %}"image":[ "{{ cover_path | absolute_url }}" ],{% endif %}
  "mainEntityOfPage":"{{ page.url | absolute_url }}",
  "author": { "@type":"Organization", "name":"Kings Mobile Welding" },
  "publisher": {
    "@type":"Organization",
    "name":"Kings Mobile Welding",
    "logo": { "@type":"ImageObject", "url":"{{ '/assets/img/logo-500.png' | absolute_url }}" }
  },
  "description": {{ page.excerpt | default: page.seo_description | strip_html | truncate: 200 | jsonify }}
}
</script>
